--- arch/arm/kernel/smp.c	2012-05-21 00:29:13.000000000 +0200
+++ arch/arm/kernel/smp.c	2014-01-08 18:42:33.000000000 +0100
@@ -596,7 +602,8 @@
 
 	cpumask_copy(&mask, cpu_online_mask);
 	cpumask_clear_cpu(smp_processor_id(), &mask);
-	smp_cross_call(&mask, IPI_CPU_STOP);
+	if (!cpumask_empty(&mask))
+		smp_cross_call(&mask, IPI_CPU_STOP);
 
 	/* Wait up to one second for other CPUs to stop */
 	timeout = USEC_PER_SEC;
